{"ast":null,"code":"import { MAIN_CONTRACT_LIST } from \"../assets/tokens\";\nimport { ContractServices } from \"./ContractServices\";\n\nconst getReferralCount = async address => {\n  try {\n    const contract = await ContractServices.callContract(MAIN_CONTRACT_LIST.referrals.address, MAIN_CONTRACT_LIST.referrals.abi);\n    return await contract.methods.referralsCount(address).call();\n  } catch (error) {\n    return error;\n  }\n};\n\nconst getReferralCommissions = async address => {\n  try {\n    const contract = await ContractServices.callContract(MAIN_CONTRACT_LIST.referrals.address, MAIN_CONTRACT_LIST.referrals.abi);\n    const decimals = Number(await ContractServices.getDecimals(MAIN_CONTRACT_LIST.anchorNew.address));\n    const amount = await contract.methods.totalReferralCommissions(address).call();\n    return amount / 10 ** decimals;\n  } catch (error) {\n    return error;\n  }\n};\n\nconst getReferrer = async address => {\n  try {\n    const contract = await ContractServices.callContract(MAIN_CONTRACT_LIST.referrals.address, MAIN_CONTRACT_LIST.referrals.abi);\n    return await contract.methods.getReferrer(address).call();\n  } catch (err) {\n    return err;\n  }\n};\n\nexport const ReferralsServices = {\n  getReferralCount,\n  getReferralCommissions,\n  getReferrer\n};","map":{"version":3,"names":["MAIN_CONTRACT_LIST","ContractServices","getReferralCount","address","contract","callContract","referrals","abi","methods","referralsCount","call","error","getReferralCommissions","decimals","Number","getDecimals","anchorNew","amount","totalReferralCommissions","getReferrer","err","ReferralsServices"],"sources":["/data/test/saitaClientGit/src/services/ReferralsServices.js"],"sourcesContent":["import { MAIN_CONTRACT_LIST } from \"../assets/tokens\";\nimport { ContractServices } from \"./ContractServices\";\n\nconst getReferralCount = async (address) => {\n  try {\n    const contract = await ContractServices.callContract(\n      MAIN_CONTRACT_LIST.referrals.address,\n      MAIN_CONTRACT_LIST.referrals.abi\n    );\n    return await contract.methods.referralsCount(address).call();\n  } catch (error) {\n    return error;\n  }\n};\n\nconst getReferralCommissions = async (address) => {\n  try {\n    const contract = await ContractServices.callContract(\n      MAIN_CONTRACT_LIST.referrals.address,\n      MAIN_CONTRACT_LIST.referrals.abi\n    );\n    const decimals = Number(\n      await ContractServices.getDecimals(MAIN_CONTRACT_LIST.anchorNew.address)\n    );\n    const amount = await contract.methods.totalReferralCommissions(address).call();\n    return amount / (10 ** decimals);\n  } catch (error) {\n    return error;\n  }\n}\n\nconst getReferrer = async (address) => {\n  try {\n    const contract = await ContractServices.callContract(MAIN_CONTRACT_LIST.referrals.address, MAIN_CONTRACT_LIST.referrals.abi);\n    return await contract.methods.getReferrer(address).call();\n  } catch (err) {\n    return err;\n  }\n}\n\nexport const ReferralsServices = {\n  getReferralCount,\n  getReferralCommissions,\n  getReferrer\n};\n"],"mappings":"AAAA,SAASA,kBAAT,QAAmC,kBAAnC;AACA,SAASC,gBAAT,QAAiC,oBAAjC;;AAEA,MAAMC,gBAAgB,GAAG,MAAOC,OAAP,IAAmB;EAC1C,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMH,gBAAgB,CAACI,YAAjB,CACrBL,kBAAkB,CAACM,SAAnB,CAA6BH,OADR,EAErBH,kBAAkB,CAACM,SAAnB,CAA6BC,GAFR,CAAvB;IAIA,OAAO,MAAMH,QAAQ,CAACI,OAAT,CAAiBC,cAAjB,CAAgCN,OAAhC,EAAyCO,IAAzC,EAAb;EACD,CAND,CAME,OAAOC,KAAP,EAAc;IACd,OAAOA,KAAP;EACD;AACF,CAVD;;AAYA,MAAMC,sBAAsB,GAAG,MAAOT,OAAP,IAAmB;EAChD,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMH,gBAAgB,CAACI,YAAjB,CACrBL,kBAAkB,CAACM,SAAnB,CAA6BH,OADR,EAErBH,kBAAkB,CAACM,SAAnB,CAA6BC,GAFR,CAAvB;IAIA,MAAMM,QAAQ,GAAGC,MAAM,CACrB,MAAMb,gBAAgB,CAACc,WAAjB,CAA6Bf,kBAAkB,CAACgB,SAAnB,CAA6Bb,OAA1D,CADe,CAAvB;IAGA,MAAMc,MAAM,GAAG,MAAMb,QAAQ,CAACI,OAAT,CAAiBU,wBAAjB,CAA0Cf,OAA1C,EAAmDO,IAAnD,EAArB;IACA,OAAOO,MAAM,GAAI,MAAMJ,QAAvB;EACD,CAVD,CAUE,OAAOF,KAAP,EAAc;IACd,OAAOA,KAAP;EACD;AACF,CAdD;;AAgBA,MAAMQ,WAAW,GAAG,MAAOhB,OAAP,IAAmB;EACrC,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMH,gBAAgB,CAACI,YAAjB,CAA8BL,kBAAkB,CAACM,SAAnB,CAA6BH,OAA3D,EAAoEH,kBAAkB,CAACM,SAAnB,CAA6BC,GAAjG,CAAvB;IACA,OAAO,MAAMH,QAAQ,CAACI,OAAT,CAAiBW,WAAjB,CAA6BhB,OAA7B,EAAsCO,IAAtC,EAAb;EACD,CAHD,CAGE,OAAOU,GAAP,EAAY;IACZ,OAAOA,GAAP;EACD;AACF,CAPD;;AASA,OAAO,MAAMC,iBAAiB,GAAG;EAC/BnB,gBAD+B;EAE/BU,sBAF+B;EAG/BO;AAH+B,CAA1B"},"metadata":{},"sourceType":"module"}